# カードショーケース再実装ポストモーテム

## 反省点
- **コンテキスト整理の不足**: 旧デモや追加指示、レトロスペクティブなど豊富な資料を受け取りながら、初動で優先順位と参照範囲を言語化できず、途中で方針がぶれてしまった。
- **スケール・座標系の理解不足**: Three.js のワールド単位と DOM ピクセルの換算を曖昧なままにし、カード本体と UI オーバーレイのサイズが終始一致しなかった。
- **実装アプローチの迷走**: DOM オーバーレイを Canvas 外で同期する方法と `<Html transform>` を使う方法を往復し、傾き補正やマスク処理が中途半端な状態で推移した。
- **段階的共有の欠如**: 中間成果をスクリーンショットや動画で早期共有せず、「次で整うはず」という予測で進めた結果、問題点の切り分けが遅れた。
- **旧実装の価値を軽視**: 既存デモに積み重なっていた演出・調整を把握し切らず、ゼロから書き換えたことで品質が大きく劣化した。

## 次回同じ実装を目指す際の注意点
1. **キックオフでの共通認識づくり**
   - 目的・ゴール・流用対象・ゼロベース対象をドキュメント化し、作業前に合意を取る。
   - タスク分解とマイルストーン（UI同期完了、ホログラム調整完了など）を設定する。
2. **コンテキストの整理ドキュメントを先に作る**
   - 受け取った資料を一覧化し、「どのフェーズで何を参照するか」を自分用ノートでまとめる。
   - その要約を共有し、解釈ズレを早めに是正する。
3. **座標系・スケールの仕様を数値で確定**
   - カード実寸、ワールド単位、DOM ピクセル換算式を最初に決め、テスト値を残す。
   - UI オーバーレイを 1.0 スケールで管理する座標系（Card Layout Spec）を用意する。
4. **段階的なプロトタイピングとレビュー**
   - 旧実装をベースに最小単位の改修から進め、各ステップでスクショ・動画・デモURLを共有する。
   - 傾きやスケールが揃った段階でレビューを受けてから次の演出に着手する。
5. **演出レイヤーの再利用計画**
   - 旧 `SceneBackground`・ホログラムマテリアル・CSS スタイルのどこを再利用するか事前に決め、マイグレーションタスクとして整理する。
   - 完全に置き換える場合でも、旧版のパラメータを比較対象として残す。
6. **検証パイプラインの整備**
   - `npm run dev` の確認用に動作動画を残し、判断を他メンバーと共有しやすい状態にする。
   - ビルド・Lint・型チェックは小まめに回し、失敗時は作業を止めて原因分析を優先する。

このメモを起点として、再実装時は初期の合意形成とコンテキスト整理から着手すること。EOF
